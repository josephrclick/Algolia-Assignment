{"mappings":"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","sources":["src/app.js"],"sourcesContent":["const { algoliasearch, instantsearch } = window;\nconst { autocomplete } = window['@algolia/autocomplete-js'];\nconst { createLocalStorageRecentSearchesPlugin } =\n  window['@algolia/autocomplete-plugin-recent-searches'];\nconst { createQuerySuggestionsPlugin } =\n  window['@algolia/autocomplete-plugin-query-suggestions'];\n\nconst searchClient = algoliasearch(\n  'RISKBWIG7Q',\n  'ab896c38ffd7f04c6d6ce975deb6cb0f'\n);\n\nconst search = instantsearch({\n  indexName: 'movies',\n  searchClient,\n  future: { preserveSharedStateOnUnmount: true },\n  insights: true,\n});\n\nconst virtualSearchBox = instantsearch.connectors.connectSearchBox(() => {});\n\nsearch.addWidgets([\n  virtualSearchBox({}),\n  instantsearch.widgets.hits({\n    container: '#hits',\n    transformItems(items) {\n      return items.map(item => ({\n        ...item,\n        actors: item.actors.slice(0, 3).join(', '),\n      }));\n    },\n    templates: {\n      item: (hit, { html, components }) => html`\n        <article>\n          <img src=${hit.poster} alt=${hit.title} />\n          <div>\n            <h1>${components.Highlight({ hit, attribute: 'title' })} (${components.Highlight({ hit, attribute: 'year' })})</h1>\n            <p><b>Starring:</b> ${hit.actors} | <b>Directed by:</b> ${components.Highlight({ hit, attribute: 'director' })}</p>\n            <p><b>Overview:</b> ${hit.overview}</p>\n            <p><b>Price:</b> $${hit.price}</p>\n          </div>\n        </article>\n      `,\n    },\n  }),\n\n  instantsearch.widgets.configure({\n    hitsPerPage: 8,\n  }),\n\n  instantsearch.widgets.dynamicWidgets({\n    container: '#dynamic-widgets',\n    fallbackWidget({ container, attribute }) {\n      return instantsearch.widgets.panel({\n        templates: { header: () => attribute },\n      })(instantsearch.widgets.refinementList)({\n        container,\n        attribute,\n      });\n    },\n    widgets: [],\n  }),\n  \n  instantsearch.widgets.pagination({\n    container: '#pagination',\n  }),\n\n  instantsearch.widgets.clearRefinements({\n    container: '#clear-refinements',\n  }),\n\n  instantsearch.widgets.poweredBy({\n    container: '#powered-by-algolia',\n  }),\n\n  instantsearch.widgets.refinementList({\n    container: '#genre-list', \n    attribute: 'genres',\n    cssClasses: {\n      count: 'hide-count', \n    },\n  }),\n\n  instantsearch.widgets.toggleRefinement({\n    container: '#on-sale',\n    attribute: 'on_sale',\n    templates: {\n      labelText({ count }, { html }) {\n        return html`<span>On Sale (${count.toLocaleString()})</span>`;\n      },\n    },\n  }),\n\n  instantsearch.widgets.configure({\n    hitsPerPage: 8\n  }),\n]);\n\nsearch.start();\n\nconst recentSearchesPlugin = createLocalStorageRecentSearchesPlugin({\n  key: 'instantsearch',\n  limit: 3,\n  transformSource({ source }) {\n    return {\n      ...source,\n      onSelect({ setIsOpen, setQuery, item, event }) {\n        onSelect({ setQuery, setIsOpen, event, query: item.label });\n      },\n    };\n  },\n});\n\nconst querySuggestionsPlugin = createQuerySuggestionsPlugin({\n  searchClient,\n  indexName: 'instant_search_demo_query_suggestions',\n  getSearchParams() {\n    return recentSearchesPlugin.data.getAlgoliaSearchParams({ hitsPerPage: 6 });\n  },\n  transformSource({ source }) {\n    return {\n      ...source,\n      sourceId: 'querySuggestionsPlugin',\n      onSelect({ setIsOpen, setQuery, event, item }) {\n        onSelect({ setQuery, setIsOpen, event, query: item.query });\n      },\n      getItems(params) {\n        if (!params.state.query) {\n          return [];\n        }\n\n        return source.getItems(params);\n      },\n    };\n  },\n});\n\nautocomplete({\n  container: '#searchbox',\n  openOnFocus: true,\n  detachedMediaQuery: 'none',\n  onSubmit({ state }) {\n    setInstantSearchUiState({ query: state.query });\n  },\n  plugins: [recentSearchesPlugin, querySuggestionsPlugin],\n});\n\nfunction setInstantSearchUiState(indexUiState) {\n  search.mainIndex.setIndexUiState({ page: 1, ...indexUiState });\n}\n\nfunction onSelect({ setIsOpen, setQuery, event, query }) {\n  if (isModifierEvent(event)) {\n    return;\n  }\n\n  setQuery(query);\n  setIsOpen(false);\n  setInstantSearchUiState({ query });\n}\n\nfunction isModifierEvent(event) {\n  const isMiddleClick = event.button === 1;\n\n  return (\n    isMiddleClick ||\n    event.altKey ||\n    event.ctrlKey ||\n    event.metaKey ||\n    event.shiftKey\n  );\n}\n"],"names":[],"version":3,"file":"index.816e7b21.js.map","sourceRoot":"/__parcel_source_root/"}